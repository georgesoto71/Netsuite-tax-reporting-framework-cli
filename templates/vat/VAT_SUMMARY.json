{
  "name": "VAT COUNTRY Summary",
  "id": "VAT_COUNTRY_SUMMARY",
  "type": "Summary",
  "context": {
    "report": {
      "postingperiod": "reportparam.postingperiod",
      "subsidiary": "reportparam.subsidiary",
      "nexus": "reportparam.nexus"
    }
  },
  "source": [
    {
      "id": "subsidiary",
      "type": "record",
      "recordtype": "subsidiary",
      "recordid": "context.report.subsidiary",
      "features": ["SUBSIDIARIES"],
      "fields": ["name", "federalidnumber"]
    },
    {
      "id": "company",
      "type": "config",
      "recordtype": "companyinformation",
      "fields": ["employerid", "companyname"]
    },
    {
      "id": "vat_salessummary",
      "type": "savedsearch",
      "internalid": "customsearch_trf_salesbytaxcode_sum_countryLowercase",
      "filters": "STR_BASE_TRANSACTION_FILTERS",
      "processor": {
        "type": "scheduled",
        "script": "SuiteApps/com.netsuite.PROJECT/src/processors/pre/VATSearchProcessor",
        "limits": {
          "searchresult": 100000,
          "period": "monthly"
        }
      }
    },
    {
      "id": "vat_purchasessummary",
      "type": "savedsearch",
      "internalid": "customsearch_trf_purchasesbytaxcode_sum_countryLowercase",
      "filters": "STR_BASE_TRANSACTION_FILTERS",
      "processor": {
        "type": "scheduled",
        "script": "SuiteApps/com.netsuite.PROJECT/src/processors/pre/VATSearchProcessor",
        "limits": {
          "searchresult": 100000,
          "period": "monthly"
        }
      }
    },
    {
      "id": "taxcode_mapping",
      "type": "savedsearch",
      "internalid": "customsearch_trf_taxcode_mapping",
      "filters": [
        {
          "name": "country",
          "operator": "is",
          "values": "COUNTRY",
          "useRawValues": true
        }
      ],
      "processor": {
        "type": "scheduled",
        "script": "SuiteApps/com.netsuite.PROJECT/src/processors/pre/COUNTRYTaxCodeMapper"
      }
    }
  ],
  DATA
}
